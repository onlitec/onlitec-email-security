# =============================================================================
# ONLITEC EMAIL PROTECTION - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and configure values for your environment
# NEVER commit .env to git!
# =============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
# Options: local | staging | production
APP_ENV=local
NODE_ENV=production

# =============================================================================
# APPLICATION URLs (NO trailing slash)
# =============================================================================
# For local development, use your server IP
# For production, use your domain with HTTPS
APP_URL=http://localhost:9080
API_URL=http://localhost:9080

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
POSTGRES_HOST=onlitec_emailprotect_db
POSTGRES_PORT=5432
POSTGRES_DB=emailprotect
POSTGRES_USER=emailprotect
# IMPORTANT: Generate a strong password for production!
POSTGRES_PASSWORD=changeme123

# =============================================================================
# REDIS
# =============================================================================
REDIS_HOST=onlitec_redis
REDIS_PORT=6379
# REDIS_PASSWORD=  # Uncomment and set for production

# =============================================================================
# SECURITY (GENERATE NEW VALUES FOR PRODUCTION!)
# =============================================================================
# Generate with: openssl rand -hex 32
JWT_SECRET=your-jwt-secret-min-32-chars-change-me
SESSION_SECRET=your-session-secret-min-32-chars-change-me

# =============================================================================
# ADMIN CREDENTIALS (Initial Setup)
# =============================================================================
ADMIN_EMAIL=admin@onlitec.local
# IMPORTANT: Change immediately after first login!
ADMIN_PASSWORD=changeme123!

# =============================================================================
# MAIL SERVER
# =============================================================================
MAIL_HOSTNAME=mail.onlitec.local
MAIL_DOMAIN=onlitec.local

# TLS/SSL Certificates (paths inside container)
TLS_CERT_FILE=/etc/postfix/certs/cert.pem
TLS_KEY_FILE=/etc/postfix/certs/key.pem

# =============================================================================
# RSPAMD (Anti-Spam)
# =============================================================================
RSPAMD_PASSWORD=changeme123

# =============================================================================
# CLAMAV (Antivirus)
# =============================================================================
# Set to true to disable automatic signature updates (useful for offline/dev)
CLAMAV_NO_FRESHCLAM=false

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================
# Single origin
CORS_ORIGIN=*
# Multiple origins (comma-separated)
# CORS_ORIGINS=http://localhost:5173,http://localhost:9080

# =============================================================================
# LOGGING
# =============================================================================
# Options: debug | info | warn | error
LOG_LEVEL=info

# =============================================================================
# MONITORING & METRICS (Optional)
# =============================================================================
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# BACKUP (Optional)
# =============================================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/backups

# =============================================================================
# EXTERNAL INTEGRATIONS (Optional)
# =============================================================================
# PROMETHEUS_ENDPOINT=http://prometheus:9090
# GRAFANA_ENDPOINT=http://grafana:3000
# ALERTMANAGER_ENDPOINT=http://alertmanager:9093

# =============================================================================
# DOCKER/PORTAINER (Production)
# =============================================================================
# Used for Portainer deployments
# DOCKER_IMAGE=registry.example.com/onlitec-email-security:latest
# IMAGE_TAG=v1.0.0

# =============================================================================
# LOCAL DEVELOPMENT NOTES
# =============================================================================
# For local development with server IP 172.20.120.38:
#
# APP_URL=http://172.20.120.38:9080
# API_URL=http://172.20.120.38:9080
# CORS_ORIGIN=http://172.20.120.38:9080
#
# =============================================================================
